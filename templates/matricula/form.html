{% include 'cabecalho.html' %}

<h2>Cadastrar Matr√≠cula</h2>

<form action="/matricula/salvar/{{ matricula[0] if matricula else 0 }}" method="POST">
    
    <input type="hidden" name="id" value="{{ matricula[0] if matricula else '' }}">

    <div class="mb-3">
        <label class="form-label">Aluno</label>
        <select name="aluno_id" class="form-select" required>
            <option value="">Selecione o Aluno...</option>
            {% for aluno in alunos %}
                <option value="{{ aluno[0] }}" {% if matricula and matricula[1] == aluno[0] %} selected {% endif %}>
                    {{ aluno[1] }}
                </option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">Turma (Curso / Semestre / Professor)</label>
        <select name="turma_id" class="form-select" required>
            <option value="">Selecione a Turma...</option>
            {% for t in turmas %}
                <option value="{{ t[0] }}" {% if matricula and matricula[2] == t[0] %} selected {% endif %}>
                    {{ t[1] }} - {{ t[3] }} (Prof. {{ t[2] }})
                </option>
            {% endfor %}
        </select>
    </div>

    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-success">Salvar</button>
        <a href="/matricula" class="btn btn-secondary">Cancelar</a>
    </div>
</form>

{% include 'rodape.html' %}